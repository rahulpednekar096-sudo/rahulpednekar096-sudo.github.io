<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Text → PDF — RDroid Apps</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <!-- SEO Meta Tags -->
  <meta name="description"
    content="Convert plain text into a clean, formatted PDF using RDroidApps Pro. Offline, privacy-safe Text to PDF converter with page size, margins, header, footer, and font controls.">

  <meta name="keywords"
    content="Text to PDF, TXT to PDF, text file to PDF, offline text to PDF, free PDF tools, RDroidApps Pro, document converter, create PDF from text">

  <link rel="stylesheet" href="../../css/style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <!-- Include jQuery for load function -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
  <!-- HEADER (loaded from external file) -->
  <div id="header-container"></div>

  <!-- TOOLS QUICK LINKS (loaded from external file) -->
  <div id="tools-links-container"></div>

  <!-- MENU DRAWER (loaded from external file) -->
  <div id="menu-drawer-container"></div>

  <!-- Load all components -->
  <script>
    $(function () {
      $("#header-container").load("../../components/header.html");
      $("#menu-drawer-container").load("../../components/menu-drawer.html");
      $("#tools-links-container").load("../../components/pdf-tools-quick-links.html");
      $("#footer-container").load("../../components/footer.html");
    });
  </script>
  <section class="section">

    <h1>Text → PDF</h1>
    <p class="lead">Write or paste text and convert into a formatted PDF with custom page settings.</p>

    <textarea id="txt" placeholder="Enter your text here..."></textarea>

    <div class="controls">

      <div class="control">
        <label>Page size</label>
        <select id="pageSize">
          <option value="A4">A4</option>
          <option value="Letter">Letter</option>
        </select>
        <label style="margin-top:6px">Orientation</label>
        <select id="orientation">
          <option value="p">Portrait</option>
          <option value="l">Landscape</option>
        </select>
      </div>

      <div class="control">
        <label>Font size</label>
        <input type="number" id="fontSize" value="12">
        <label style="margin-top:6px">Line spacing</label>
        <input type="number" id="lineGap" value="6">
      </div>

      <div class="control">
        <label>Margins (mm)</label>
        <input type="number" id="margin" value="10">
        <label style="margin-top:6px">Header text</label>
        <input type="text" id="header">
        <label style="margin-top:6px">Footer text</label>
        <input type="text" id="footer">
      </div>

    </div>

    <div style="margin-top:12px">
      <button class="btn btn-primary" id="convertBtn">Convert Text to PDF</button>
    </div>

    <pre id="log" class="log">Ready.</pre>

    <div id="download"></div>
    <!-- SEO Content -->
    <hr style="margin:32px 0">

    <section class="seo-content">
      <h2>Text to PDF Converter — RDroidApps Pro</h2>

      <p>
        The Text to PDF Converter by RDroidApps Pro lets you easily convert plain text into
        professionally formatted PDF documents directly in your browser. This tool works
        fully offline and ensures complete privacy by processing everything on your device.
      </p>

      <h2>Key Features of Text to PDF Converter</h2>

      <ul>
        <li><strong>Instant Text Conversion:</strong> Paste or type text and convert it to PDF instantly.</li>
        <li><strong>Custom Page Settings:</strong> Choose page size (A4 or Letter) and orientation.</li>
        <li><strong>Font & Line Controls:</strong> Adjust font size and line spacing for clean output.</li>
        <li><strong>Header & Footer Support:</strong> Add custom header and footer text to every page.</li>
        <li><strong>Client-Side Processing:</strong> No uploads, no tracking — everything stays on your device.</li>
        <li><strong>Free & Offline:</strong> Works without internet after page load.</li>
      </ul>

      <h2>How to Convert Text to PDF</h2>

      <ol>
        <li><strong>Enter Text:</strong> Type or paste your content into the text area.</li>
        <li><strong>Adjust Settings:</strong> Select page size, orientation, margins, font size, and spacing.</li>
        <li><strong>Add Header/Footer:</strong> Optionally include header and footer text.</li>
        <li><strong>Convert:</strong> Click the “Convert Text to PDF” button.</li>
        <li><strong>Download:</strong> Save your generated PDF instantly.</li>
      </ol>
    </section>

  </section>
  <!-- FOOTER (loaded from external file) -->
  <div id="footer-container"></div>
  <script>
    // Drawer toggle
    function toggleMenu() {
      document.getElementById("drawer").classList.toggle("open");
    }
    const txt = document.getElementById("txt");
    const logEl = document.getElementById("log");
    const download = document.getElementById("download");

    function log(msg) { logEl.textContent += "\n" + msg; logEl.scrollTop = logEl.scrollHeight; }

    document.getElementById("convertBtn").onclick = async () => {
      const content = txt.value.trim();
      if (!content) { alert("Enter some text"); return; }

      log("Creating PDF...");
      const { jsPDF } = window.jspdf;

      const size = document.getElementById("pageSize").value === "A4" ? "a4" : "letter";
      const orient = document.getElementById("orientation").value === "p" ? "portrait" : "landscape";
      const margin = parseFloat(document.getElementById("margin").value) || 10;
      const fs = parseFloat(document.getElementById("fontSize").value) || 12;
      const gap = parseFloat(document.getElementById("lineGap").value) || 6;

      const header = document.getElementById("header").value;
      const footer = document.getElementById("footer").value;

      const pdf = new jsPDF({ unit: "mm", format: size, orientation: orient });
      pdf.setFontSize(fs);

      let y = margin;

      const lines = content.split("\n");

      for (let i = 0; i < lines.length; i++) {
        if (y === margin && header) { pdf.text(header, margin, y); y += fs + 3; }
        const wrapped = pdf.splitTextToSize(lines[i], pdf.internal.pageSize.getWidth() - margin * 2);
        wrapped.forEach(line => {
          if (y > pdf.internal.pageSize.getHeight() - margin) {
            if (footer) pdf.text(footer, margin, pdf.internal.pageSize.getHeight() - 6);
            pdf.addPage(); y = margin;
            if (header) { pdf.text(header, margin, y); y += fs + 3; }
          }
          pdf.text(line, margin, y);
          y += fs + gap;
        });
      }

      if (footer) pdf.text(footer, margin, pdf.internal.pageSize.getHeight() - 6);

      const blob = pdf.output("blob");
      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = "text.pdf";
      a.textContent = "Download PDF";
      a.className = "btn-primary";
      download.innerHTML = "";
      download.appendChild(a);
      log("Done.");
    };
  </script>

</body>

</html>
