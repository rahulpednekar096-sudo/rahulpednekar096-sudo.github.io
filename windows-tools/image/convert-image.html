<!doctype html>
<html lang="en">

<head>
    <script src="/js/script.js" defer></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4T90FQG02K"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-4T90FQG02K');
    </script>
    <!-- AdSense account verification -->
    <meta name="google-adsense-account" content="ca-pub-7933209486512555">

    <!-- AdSense Auto Ads -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7933209486512555"
        crossorigin="anonymous"></script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="description"
        content="Convert between PNG/JPG/WebP and choose quality/transparent background handling." />
    <meta name="keywords"
        content="Image Converter, PNG to JPG, JPG to PNG, WebP Converter, Image Quality, Transparent Background, RDroid Apps" />
    <title>Convert Image — RDroid Apps</title>
    <link rel="canonical" href="https://rdroidapps.com/windows-tools/image/convert-image.html" />
    <link rel="stylesheet" href="/css/style.css">

    <!-- Include jQuery for load function -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</head>

<body>
    <!-- HEADER (loaded from external file) -->
    <div id="header-container"></div>

    <!-- TOOLS QUICK LINKS (loaded from external file) -->
    <div id="tools-links-container"></div>

    <!-- MENU DRAWER (loaded from external file) -->
    <div id="menu-drawer-container"></div>

    <!-- Load all components -->
    <script>
        $(function () {
            $("#header-container").load("/components/header.html");
            $("#menu-drawer-container").load("/components/menu-drawer.html");
            $("#tools-links-container").load("/components/image-tools-quick-links.html");
            $("#footer-container").load("/components/footer.html");
        });
    </script>

    <section class="tool-section">
        <div class="card">
            <h1>Convert Image</h1>
            <p class="note">Convert between PNG/JPG/WebP and choose quality/transparent background handling.</p>

            <label class="drop" id="dropArea"
                style="height: 200px; display: flex; align-items: center; justify-content: center;">Drop image or
                <button class="btn btn-ghost" id="pickBtn">Choose file</button>
            </label>
            <input type="file" id="fileInput" accept="image/*" />
            <div class="row">
                <div class="col"><label class="small">Convert to</label><select id="toFormat">
                        <option value="png">PNG</option>
                        <option value="jpeg">JPEG</option>
                        <option value="webp">WebP</option>
                    </select></div>
                <div class="col"><label class="small">Quality</label><input type="range" id="quality" min="10" max="95"
                        value="80">
                    <div id="qVal">80</div>
                </div>
            </div>

            <div style="margin-top:12px;display:flex;gap:8px;">
                <button class="btn btn-primary" id="startBtn">Convert</button>
                <button class="btn btn-ghost" id="resetBtn">Reset</button>
                <a id="downloadLink" class="btn" style="display:none"></a>
            </div>
            <div id="preview" style="margin-top:12px"></div>
            <pre id="log">Ready.</pre>
            <!-- SEO Content -->
            <div id="warning" style="color:#ffb199; margin-top:8px"></div>
            <hr style="margin:32px 0">

            <section class="seo-content">
                <h2>Image Converter Tool</h2>
                <p>Welcome to the Image Converter tool by RDroid Apps, your go-to solution for converting images between
                    popular formats such as PNG, JPEG, and WebP. Whether you need to optimize images for web use or
                    require a specific format for your projects, our tool makes it easy and efficient.</p>

                <h3>Supported Formats</h3>
                <ul>
                    <li><strong>PNG (Portable Network Graphics):</strong> Ideal for images requiring transparency and
                        lossless
                        compression.</li>
                    <li><strong>JPEG (Joint Photographic Experts Group):</strong> Best suited for photographs and images
                        where
                        file size reduction is a priority.</li>
                    <li><strong>WebP:</strong> A modern image format that provides superior compression and quality,
                        perfect for
                        web applications.</li>
                </ul>

                <h3>Key Features</h3>
                <ul>
                    <li><strong>Easy Conversion:</strong> Simply upload your image, select the desired output format,
                        and click
                        convert.</li>
                    <li><strong>Quality Control:</strong> Adjust the quality settings to balance between image quality
                        and file
                        size.</li>
                    <li><strong>User-Friendly Interface:</strong> Our intuitive design ensures a smooth experience for
                        users of all
                        skill levels.</li>
                </ul>

                <h3>How to Use the Image Converter</h3>
                <ol>
                    <li>Click on the "Choose file" button or drag and drop your image into the designated area.</li>
                    <li>Select the output format (PNG, JPEG, or WebP) from the dropdown menu.</li>
                    <li>Adjust the quality slider to your preference.</li>
                    <li>Click the "Convert" button to start the conversion process.</li>
                    <li>Once completed, download your converted image using the provided link.</li>
                </ol>

                <h3>Why Choose RDroid Apps?</h3>
                <p>At RDroid Apps, we are committed to providing high-quality tools that enhance your digital
                    experience.
                    Our Image Converter is designed with efficiency and user satisfaction in mind, ensuring that you can
                    convert images quickly without compromising on quality.</p>

                <p>Try our Image Converter today and experience seamless image conversion like never before!</p>
            </section>
        </div>
    </section>
    <!-- FOOTER (loaded from external file) -->
    <div id="footer-container"></div>
    <script>
        function toggleMenu() { document.getElementById('drawer').classList.toggle('open') }

        // Variables declaration
        const pickBtn = document.getElementById('pickBtn'),
            fileInput = document.getElementById('fileInput'),
            dropArea = document.getElementById('dropArea'),
            toFormat = document.getElementById('toFormat'),
            quality = document.getElementById('quality'),
            qVal = document.getElementById('qVal'),
            startBtn = document.getElementById('startBtn'),
            resetBtn = document.getElementById('resetBtn'),
            downloadLink = document.getElementById('downloadLink'),
            preview = document.getElementById('preview'),
            logEl = document.getElementById('log');

        let currentFile = null;
        let originalImageURL = null;
        let convertedImageURL = null;

        // Event Listeners
        pickBtn.addEventListener('click', () => fileInput.click());

        dropArea.addEventListener('dragover', e => {
            e.preventDefault();
            dropArea.style.borderColor = '#0aa37f';
            dropArea.style.background = 'rgba(10, 163, 127, 0.03)';
        });

        dropArea.addEventListener('dragleave', () => {
            dropArea.style.borderColor = '';
            dropArea.style.background = '';
        });

        dropArea.addEventListener('drop', e => {
            e.preventDefault();
            dropArea.style.borderColor = '';
            dropArea.style.background = '';

            if (e.dataTransfer.files.length) {
                fileInput.files = e.dataTransfer.files;
                fileInput.dispatchEvent(new Event('change'));
            }
        });

        quality.addEventListener('input', () => qVal.textContent = quality.value);

        fileInput.addEventListener('change', () => {
            if (fileInput.files.length === 0) return;

            currentFile = fileInput.files[0];

            // Release previous image URL
            if (originalImageURL) {
                URL.revokeObjectURL(originalImageURL);
            }

            originalImageURL = URL.createObjectURL(currentFile);
            preview.innerHTML = `<img src="${originalImageURL}" style="max-width:420px;border-radius:8px">`;
            logEl.textContent = `Loaded: ${currentFile.name} (${(currentFile.size / 1024).toFixed(1)} KB)`;
        });

        // Reset Function
        resetBtn.addEventListener('click', () => {
            // Reset file input
            currentFile = null;
            fileInput.value = '';

            // Reset format and quality
            toFormat.value = 'png';
            quality.value = 80;
            qVal.textContent = '80';

            // Reset UI elements
            downloadLink.style.display = 'none';
            preview.innerHTML = '';
            logEl.textContent = 'Ready.';
            dropArea.style.borderColor = '';
            dropArea.style.background = '';

            // Release all Object URLs
            if (originalImageURL) {
                URL.revokeObjectURL(originalImageURL);
                originalImageURL = null;
            }

            if (convertedImageURL) {
                URL.revokeObjectURL(convertedImageURL);
                convertedImageURL = null;
            }

            if (downloadLink.href && downloadLink.href.startsWith('blob:')) {
                URL.revokeObjectURL(downloadLink.href);
                downloadLink.href = '#';
            }
        });

        // Convert Function
        startBtn.addEventListener('click', () => {
            if (!currentFile) return alert('कृपया image निवडा');

            const reader = new FileReader();
            reader.onload = async e => {
                const img = new Image();
                img.src = e.target.result;
                await img.decode();

                const canvas = document.createElement('canvas');
                canvas.width = img.naturalWidth;
                canvas.height = img.naturalHeight;
                const ctx = canvas.getContext('2d');
                ctx.drawImage(img, 0, 0);

                const fmt = toFormat.value;
                const q = parseInt(quality.value) / 100;
                const mime = fmt === 'jpeg' ? 'image/jpeg' : (fmt === 'webp' ? 'image/webp' : 'image/png');

                canvas.toBlob(b => {
                    // Release previous converted image URL
                    if (convertedImageURL) {
                        URL.revokeObjectURL(convertedImageURL);
                    }

                    convertedImageURL = URL.createObjectURL(b);
                    preview.innerHTML = `<img src="${convertedImageURL}" style="max-width:420px;border-radius:8px">`;

                    // Release previous download link URL
                    if (downloadLink.href && downloadLink.href.startsWith('blob:')) {
                        URL.revokeObjectURL(downloadLink.href);
                    }

                    downloadLink.href = convertedImageURL;
                    downloadLink.download = currentFile.name.replace(/\.[^/.]+$/, '') + '.' + (fmt === 'jpeg' ? 'jpg' : fmt);
                    downloadLink.textContent = 'Download';
                    downloadLink.style.display = 'inline-block';

                    const originalSize = currentFile.size / 1024;
                    const convertedSize = b.size / 1024;

                    logEl.textContent = `Original: ${originalSize.toFixed(1)} KB\nConverted: ${convertedSize.toFixed(1)} KB\nFormat: ${fmt.toUpperCase()}`;
                }, mime, fmt === 'png' ? undefined : q);
            }
            reader.readAsDataURL(currentFile);
        });
    </script>
</body>

</html>
