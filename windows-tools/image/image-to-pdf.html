<!doctype html>
<html lang="en">

<head>
    <!-- Monetag In-Page Push -->
    <script>(function (s) { s.dataset.zone = '10573804', s.src = 'https://nap5k.com/tag.min.js' })([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>
    <!-- Site-wide script -->
    <script src="/js/script.js" defer></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4T90FQG02K"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-4T90FQG02K');
    </script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="keywords"
        content="image to pdf, images to pdf, convert image to pdf, convert images to pdf, jpg to pdf, png to pdf, webp to pdf, multi-page pdf, a4 pdf, fit to page pdf" />
    <meta name="description"
        content="Convert images to PDF. Supports JPG, PNG, WebP, and more. Create multi-page PDFs with A4 fit to page." />
    <title>Image ‚Üí PDF ‚Äî RDroid Apps</title>
    <link rel="canonical" href="https://rdroidapps.com/windows-tools/image/image-to-pdf.html" />
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>

    <!-- Include jQuery for load function -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</head>

<body>
    <!-- HEADER (loaded from external file) -->
    <div id="header-container"></div>

    <!-- TOOLS QUICK LINKS (loaded from external file) -->
    <div id="tools-links-container"></div>

    <!-- MENU DRAWER (loaded from external file) -->
    <div id="menu-drawer-container"></div>

    <!-- Load all components -->
    <script>
        $(function () {
            $("#header-container").load("/components/header.html");
            $("#menu-drawer-container").load("/components/menu-drawer.html");
            $("#tools-links-container").load("/components/tools-quick-links.html");
            $("#footer-container").load("/components/footer.html");
        });
    </script>

    <section class="tool-section">
        <div class="card">
            <h1>Image ‚Üí PDF</h1>
            <p class="note">Select multiple images and create a single multi-page PDF. Images are fit to page (A4) by
                default.</p>

            <label class="drop" id="dropArea"
                style="height: 200px; display: flex; align-items: center; justify-content: center;">Drop image or
                <button class="btn btn-ghost" id="pickBtn">Choose file</button>
            </label>
            <input type="file" id="fileInput" accept="image/*" multiple />
            <div style="margin-top:12px;display:flex;gap:8px;">
                <button class="btn btn-primary" id="startBtn">Create PDF</button>
                <button class="btn btn-ghost" id="resetBtn">Reset</button>
                <a id="downloadLink" class="btn" style="display:none"></a>
            </div>
            <div id="preview" style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap"></div>
            <pre id="log">Ready.</pre>
            <!-- SEO Content -->
            <div id="warning" style="color:#ffb199; margin-top:8px"></div>
            <hr style="margin:32px 0">

            <section class="seo-content">
                <h2>Image to PDF Converter</h2>
                <p>This tool allows you to convert images to PDF format easily. You can select multiple images, and the
                    tool will create a single multi-page PDF document for you. The images are automatically resized to
                    fit A4 pages, ensuring a clean and professional look.</p>

                <h2>Supported Image Formats</h2>
                <p>The converter supports a wide range of image formats including JPG, PNG, WebP, BMP, and more. This
                    makes it versatile for various use cases.</p>

                <h2>How to Use</h2>
                <ol>
                    <li>Click on the "Choose file" button or drag and drop your images into the designated area.</li>
                    <li>Select multiple images if needed.</li>
                    <li>Click on the "Create PDF" button to generate the PDF document.</li>
                    <li>Once the PDF is created, click on the "Download PDF" link to save it to your device.</li>
                </ol>

                <h2>Benefits of Using This Tool</h2>
                <ul>
                    <li><strong>Convenience:</strong> Quickly convert images to PDF without needing any software
                        installation.</li>
                    <li><strong>Multi-Page Support:</strong> Combine multiple images into a single PDF file for easy
                        sharing and storage.</li>
                    <li><strong>Free to Use:</strong> This tool is completely free and accessible online.</li>
                </ul>
                <h2>Privacy and Security</h2>
                <p>Your privacy is important to us. All image processing is done locally in your browser, ensuring that
                    your files are not uploaded to any server.</p>

            </section>
        </div><br>
        <a href="/index.html#image-tools" class="nav-button home">üè† Back to Image Home</a>
    </section>
    <!-- FOOTER (loaded from external file) -->
    <div id="footer-container"></div>
    <script>
        function toggleMenu() { document.getElementById('drawer').classList.toggle('open') }

        // Variables declaration
        const pickBtn = document.getElementById('pickBtn'),
            fileInput = document.getElementById('fileInput'),
            dropArea = document.getElementById('dropArea'),
            startBtn = document.getElementById('startBtn'),
            resetBtn = document.getElementById('resetBtn'),
            downloadLink = document.getElementById('downloadLink'),
            preview = document.getElementById('preview'),
            logEl = document.getElementById('log');

        let imageURLs = []; // Store all created object URLs for cleanup

        // Event Listeners
        pickBtn.addEventListener('click', () => fileInput.click());

        dropArea.addEventListener('dragover', e => {
            e.preventDefault();
            dropArea.style.borderColor = '#0aa37f';
            dropArea.style.background = 'rgba(10, 163, 127, 0.03)';
        });

        dropArea.addEventListener('dragleave', () => {
            dropArea.style.borderColor = '';
            dropArea.style.background = '';
        });

        dropArea.addEventListener('drop', e => {
            e.preventDefault();
            dropArea.style.borderColor = '';
            dropArea.style.background = '';

            if (e.dataTransfer.files.length) {
                fileInput.files = e.dataTransfer.files;
                previewFiles();
            }
        });

        fileInput.addEventListener('change', previewFiles);

        // Preview files function
        function previewFiles() {
            // Clear previous preview and URLs
            clearPreview();

            const files = Array.from(fileInput.files || []);
            if (files.length === 0) return;

            for (const f of files) {
                const img = document.createElement('img');
                const url = URL.createObjectURL(f);
                imageURLs.push(url); // Store URL for cleanup
                img.src = url;
                img.style.maxWidth = '140px';
                img.style.borderRadius = '6px';
                img.style.margin = '4px';
                preview.appendChild(img);
            }

            logEl.textContent = `Selected ${files.length} image(s)`;
        }

        // Clear preview and release URLs
        function clearPreview() {
            // Release all object URLs
            imageURLs.forEach(url => URL.revokeObjectURL(url));
            imageURLs = [];

            // Clear preview container
            preview.innerHTML = '';
        }

        // Create PDF function
        startBtn.addEventListener('click', async () => {
            const files = Array.from(fileInput.files || []);
            if (!files.length) return alert('‡§ï‡•É‡§™‡§Ø‡§æ images ‡§®‡§ø‡§µ‡§°‡§æ');

            logEl.textContent = 'Creating PDF...\n';

            try {
                const pdfDoc = await PDFLib.PDFDocument.create();

                for (const f of files) {
                    try {
                        const data = await f.arrayBuffer();

                        // Helper function to try embed as JPG then PNG
                        async function tryEmbed(pdfDoc, data, f) {
                            let imgEmbed;
                            try {
                                imgEmbed = await pdfDoc.embedJpg(data);
                            } catch (err) {
                                try {
                                    imgEmbed = await pdfDoc.embedPng(data);
                                } catch (err2) {
                                    throw new Error('Unsupported image format');
                                }
                            }
                            const dims = imgEmbed.scale(1);
                            const page = pdfDoc.addPage([dims.width, dims.height]);
                            page.drawImage(imgEmbed, {
                                x: 0,
                                y: 0,
                                width: dims.width,
                                height: dims.height
                            });
                            return imgEmbed;
                        }

                        await tryEmbed(pdfDoc, data, f);
                        logEl.textContent += `Added: ${f.name}\n`;
                    } catch (e) {
                        logEl.textContent += 'Skipped file ' + f.name + ': ' + e.message + '\n';
                    }
                }

                const pdfBytes = await pdfDoc.save();
                const blob = new Blob([pdfBytes], { type: 'application/pdf' });

                // Release previous PDF URL if exists
                if (downloadLink.href && downloadLink.href.startsWith('blob:')) {
                    URL.revokeObjectURL(downloadLink.href);
                }

                const url = URL.createObjectURL(blob);
                downloadLink.href = url;
                downloadLink.download = 'images.pdf';
                downloadLink.textContent = 'Download PDF';
                downloadLink.style.display = 'inline-block';

                logEl.textContent += `Done. PDF created with ${files.length} page(s).\n`;
            } catch (error) {
                logEl.textContent = 'Error: ' + error.message + '\n';
            }
        });

        // Reset Function
        resetBtn.addEventListener('click', () => {
            // Reset file input
            fileInput.value = '';

            // Clear preview and release URLs
            clearPreview();

            // Reset UI elements
            downloadLink.style.display = 'none';
            logEl.textContent = 'Ready.';
            dropArea.style.borderColor = '';
            dropArea.style.background = '';

            // Release PDF URL if exists
            if (downloadLink.href && downloadLink.href.startsWith('blob:')) {
                URL.revokeObjectURL(downloadLink.href);
                downloadLink.href = '#';
            }

            logEl.textContent = 'Reset complete.';
        });
    </script>
</body>

</html>
